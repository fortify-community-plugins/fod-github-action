name: FOD GitHub Action Test

on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

jobs:
  build:
    runs-on: ubuntu-latest
    name: Debug
    steps:
      - uses: actions/checkout@v1
          with:
            fetch-depth: 1
            - run: npm install
            - run: npm run build
      - uses: ./.github/actions/debug-action
          with:
            repo_token: ${{ secrets.GITHUB_TOKEN }}
            fod_access_key: ${{ secrets.FOD_ACCESS_KEY }}
            fod_secret_key: ${{ secrets.FOD_SECRET_KEY }}
            bsi_token: 'ENTER_YOUR_BSI_TOKEN'
            entitlement_preference: 'SubscriptionOnly'
            remediation_scan_preference: 'NonRemediationScanOnly'
            in_progress_scan_action: 'DoNotStartScan'
            zip_location: 'fod.zip'
            polling_interval: '5'
